/* Retro Snake – Grundlayout */

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Basis-Layout */
html,
body {
  width: 100%;
  height: 100%;
  background: #111;
  color: #f4f4f4;
  font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
}

body {
  overflow: hidden;
}

/* === Grundgrößen für das D-Pad (so gewählt, dass die Kreise NICHT überlappen) === */
:root {
  --dpad-area-size: 160px;      /* Quadrat für das Kreuz */
  --dpad-btn-size: 60px;        /* Durchmesser der Kreise */
  --dpad-bottom-offset: -180px; /* Abstand unterhalb des Spielfelds */
}

/* Wurzel-Container – SPIELFELD IN DER MITTE */
#game-root {
  position: relative;
  width: 100%;
  height: 100vh;
  background: #20252a;
  display: flex;
  justify-content: center;
  align-items: center;      /* genau zentriert */
}

/* Spielfeld – quadratisch */
#game-area {
  position: relative;
  width: min(100vmin, 800px);
  height: min(100vmin, 800px);
}

/* Canvas im Retro-Look */
#gameCanvas {
  width: 100%;
  height: 100%;
  background: #7fa450; /* Grün fürs Feld */
  image-rendering: pixelated;
  image-rendering: crisp-edges;
  box-shadow: 0 0 0 4px #000;
}

/* HUD: Bestenliste oben links, transparent */
#hud {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  pointer-events: none; /* Klicks gehen durch */
}

.best-box {
  position: absolute;
  top: 16px;
  left: 16px;
  background: rgba(0, 0, 0, 0.4);
  padding: 10px 14px;
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(0px);
  font-size: 0.85rem;
}

.best-box h2 {
  font-size: 0.9rem;
  margin-bottom: 4px;
}

.best-box ol {
  list-style: decimal;
  margin-left: 18px;
  margin-bottom: 4px;
}

.best-box li {
  opacity: 0.9;
}

.best-box .current-score {
  margin-top: 6px;
  font-weight: 600;
}

/* === Steuerung: D-Pad unter dem Spielfeld === */

/* Container für das Steuerkreuz */
.controls {
  position: absolute;
  left: 50%;
  bottom: var(--dpad-bottom-offset);  /* unterhalb des Canvas */
  transform: translateX(-50%);
  width: var(--dpad-area-size);
  height: var(--dpad-area-size);
  z-index: 5;
}

/* Buttons – Größe per Variable */
.controls button {
  position: absolute;
  overflow: hidden;
  width: var(--dpad-btn-size);
  height: var(--dpad-btn-size);
  border-radius: 50%;
  border: 1px solid rgba(255, 255, 255, 0.25);
  background: rgba(0, 0, 0, 0.25);
  color: #ffffff;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.35);
  transition: transform 0.1s, background 0.15s;
}

/* Positionen der vier Buttons wie ein Kreuz */
#btnUp {
  top: 0;
  left: 50%;
  transform: translateX(-50%);
}

#btnDown {
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
}

#btnLeft {
  left: 0;
  top: 50%;
  transform: translateY(-50%);
}

#btnRight {
  right: 0;
  top: 50%;
  transform: translateY(-50%);
}

/* (alt, nicht mehr genutzt, kann aber bleiben) */
.controls-row {
  display: flex;
  gap: 14px;
  justify-content: center;
}

/* Klick-Feedback */
.controls button:active {
  background: rgba(255, 255, 255, 0.15);
  transform: scale(0.9);
}

/* Pfeile als CSS-Dreiecke – alle gleich groß */
.controls button::before {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 0;
  height: 0;
  border-style: solid;
}

/* Oben */
#btnUp::before {
  border-width: 0 12px 20px 12px;
  border-color: transparent transparent #ffffff transparent;
}

/* Unten */
#btnDown::before {
  border-width: 20px 12px 0 12px;
  border-color: #ffffff transparent transparent transparent;
}

/* Links */
#btnLeft::before {
  border-width: 12px 20px 12px 0;
  border-color: transparent #ffffff transparent transparent;
}

/* Rechts */
#btnRight::before {
  border-width: 12px 0 12px 20px;
  border-color: transparent transparent transparent #ffffff;
}

/* Start-/Game-Over-Menü */
.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.7); /* leicht dunkler, für Fokus */
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 20;
}
.overlay.hidden {
  display: none;
}

.menu-panel {
  background: rgba(10, 10, 10, 0.9);
  padding: 24px 28px;
  border-radius: 18px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
  text-align: center;
  max-width: 320px;
}

.menu-panel h1 {
  font-size: 1.4rem;
  margin-bottom: 10px;
  letter-spacing: 1px;
}

.menu-panel .subtitle {
  font-size: 0.9rem;
  opacity: 0.8;
  margin-bottom: 14px;
}

.menu-panel .status {
  font-size: 0.85rem;
  margin-bottom: 16px;
}

.primary-btn,
.secondary-btn {
  width: 100%;
  padding: 10px 0;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  font-size: 0.95rem;
  margin-bottom: 10px;
  font-weight: 600;
}

.primary-btn {
  background: #ffb34a;
  color: #181b20;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.6);
}

.primary-btn:active {
  transform: translateY(2px);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.6);
}

.secondary-btn {
  background: transparent;
  color: #e0e0e0;
  border: 1px solid rgba(255, 255, 255, 0.4);
}

.secondary-btn:active {
  background: rgba(255, 255, 255, 0.1);
}

.menu-panel .version {
  font-size: 0.75rem;
  opacity: 0.7;
  margin-top: 6px;
}

/* ---------- Level-Auswahl im Overlay ---------- */
.level-select {
  margin-top: 14px;
  text-align: center;
}

.level-title {
  display: block;
  margin-bottom: 8px;
  color: #ddd;
  opacity: 0.9;
}

.level-buttons {
  display: flex;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}

.level-btn {
  padding: 10px 14px;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.15);
  background: rgba(255, 255, 255, 0.06);
  color: #fff;
  font-weight: 600;
}

.level-btn:active {
  transform: scale(0.98);
}

.level-btn.active {
  outline: 2px solid #ffb74d;
  background: rgba(255, 183, 77, 0.15);
}

.level-hint {
  display: block;
  margin-top: 8px;
  color: #bbb;
  opacity: 0.8;
}

/* === Retro Start-Menü im Nokia-Stil === */

body {
  /* Retro-Grün-Hintergrund für den ganzen Screen – gleich wie Spielfeld */
  background: #6daa2a;
  font-family: "Press Start 2P", system-ui, sans-serif;
}

/* Menü-Overlay über dem Spiel */
#menu.overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #6daa2a;            /* gleiche Farbe wie Spielfeld */
  z-index: 1000;
}

/* wird per JS gesetzt/entfernt */
#menu.hidden {
  display: none;
}

/* Zentrale Menü-Box – Retro */
.menu-panel {
  background: #4e7a1e;            /* dunkleres Grün – wie Spielfeldrand */
  border: 4px solid #001600;      /* gleiche Farbe wie Snake / Rand */
  box-shadow: none;               /* sauberer Retro-Look */
  padding: 32px 24px 28px;
  max-width: 420px;
  width: 90%;
  text-align: center;
}

/* Titel "Classic Snake" im Pixel-Look */
.menu-panel h1 {
  font-size: 24px;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  margin: 0 0 8px;
  color: #001600;
}

/* Untertitel */
.menu-panel .subtitle {
  font-size: 10px;
  line-height: 1.4;
  margin: 0 0 16px;
  color: #001600;
}

/* Status-Text (z.B. Game Over, Tippe Play) */
#menuStatus.status {
  font-size: 9px;
  margin-bottom: 18px;
  color: #001600;
}

/* Großer Play-Button – Retro */
.primary-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 14px 12px;
  margin-bottom: 18px;

  background: #001c00;
  color: #77ff00;
  border: 4px solid #00ff3b;
  box-shadow: 0 0 0 3px #004000;
  font-size: 11px;
  text-transform: uppercase;
  cursor: pointer;
}

.primary-btn:hover,
.primary-btn:active {
  background: #003000;
}

/* Level-Auswahl-Bereich im Menü */
.level-select {
  margin-top: 8px;
  padding-top: 8px;
  border-top: 2px dotted #001600;
}

.level-select .level-title {
  display: block;
  font-size: 9px;
  margin-bottom: 6px;
  color: #001600;
}

/* Level-Buttons */
.level-buttons {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.level-btn {
  width: 100%;
  padding: 8px 10px;
  font-size: 9px;
  border: 3px solid #001600;
  background: #6daa2a;
  color: #001600;
  cursor: pointer;
  text-transform: uppercase;
}

.level-btn.active {
  background: #001c00;
  color: #77ff00;
  border-color: #00ff3b;
}

/* kleiner Hinweis-Text */
.level-hint {
  display: block;
  margin-top: 8px;
  font-size: 8px;
  line-height: 1.4;
  color: #001600;
}

/* Versions-Text */
.menu-panel .version {
  margin-top: 18px;
  font-size: 8px;
  color: #001600;
  opacity: 0.9;
}

/* Retro Pixel Font */
body,
button,
h1,
h2,
h3,
p,
li {
  font-family: "Press Start 2P", monospace;
  letter-spacing: 1px;
}

/* ✅ Leaderboard-Overlay-Feinschliff */
#leaderboardOverlay {
  background: rgba(0, 0, 0, 0.5);
}

.leaderboard-panel {
  max-width: 320px;
}

.leaderboard-panel h2 {
  font-size: 16px;
  margin-bottom: 16px;
  color: #77ff00;
}

.lb-line {
  font-size: 10px;
  margin-bottom: 6px;
  color: #001600;
}

.lb-hint {
  font-size: 8px;
  margin: 10px 0 14px;
  color: #001600;
}

/* ---------- Responsive-Anpassungen ---------- */

/* etwas kleiner auf niedrigeren Displays */
@media (max-height: 720px) {
  :root {
    --dpad-area-size: 180px;
    --dpad-btn-size: 60px;
    --dpad-bottom-offset: -150px;
  }
}

/* sehr kleine Displays */
@media (max-height: 640px) {
  :root {
    --dpad-area-size: 165px;
    --dpad-btn-size: 55px;
    --dpad-bottom-offset: -135px;
  }
}

/* extrem klein */
@media (max-height: 560px) {
  :root {
    --dpad-area-size: 150px;
    --dpad-btn-size: 50px;
    --dpad-bottom-offset: -120px;
  }
  }
